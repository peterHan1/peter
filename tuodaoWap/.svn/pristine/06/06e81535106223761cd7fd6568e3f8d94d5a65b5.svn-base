<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no"/>
	<meta name="full-screen" content="yes">
	<meta name="x5-fullscreen" content="true">
    <title>拓道金服</title>
    <meta name="full-screen" content="yes">
    <meta name="x5-fullscreen" content="true">
    <script src="js/base.js"></script>
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" href="css/Td_share.css">
</head>

<body>
  <div class="max_width Td_share">
  	<div class="banner">
  		<img src="img/TD_share/banner.png" />
  	</div>
  	<div class="register_box">
  		<div class="banner_shada"></div>
		<div class="register">
			<div class="register_inp">
				<ul>
					<li>
						<div class="list_div"><span class="phone"></span><div class="inp_div"><input type="number" placeholder="请输入手机号码" class="phone_ipnut" maxlength="11" onkeyup="this.value=this.value.replace(/^ +| +$/g,'')"/></div></div>
					</li>
					<li class="imgCode_li">
						<div class="list_div"><span class="imgCode"></span><div class="inp_div"><input type="text" placeholder="请输入图形验证码" class="imgCode_input"/></div></div>
						<img src="img/TD_share/img_code.jpg" />
					</li>
					<li class="phoneCode_li">
						<div class="list_div"><span class="phoneCode"></span><div class="inp_div"><input type="text" placeholder="请输入短信验证码" class="phoneCode_input"/></div></div>
						<div class="get_code" id="get_code">获取验证码</div>
					</li>
					<li>
						<div class="list_div"><span class="psd"></span><div class="inp_div"><input type="password" placeholder="请设置6-16位登录密码" class="psw_input"/></div></div>
					</li>
				</ul>
				<div class="read">
                    <div class="checkbox"></div>
                    <div>我已阅读并同意《拓道金服用户注册协议》</div>
                </div>
				<div class="sub_register"><span class="dis_none"></span><b>立即注册</b></div>
			</div>
		</div>
  	</div>
  	<div class="td_bg">
		<div class="td_explain">
			<h3>预期收益非平台承若收益，市场有风险，出借需谨慎</h3>
			<p>浙ICP证B2-20160394 浙ICP备13034095号</p>
			<h2>杭州拓道互联网金融服务有限公司</h2>
			<h2>杭州市西湖区中节能西溪首座</h2>
		</div>
	</div>
  </div>
  <!--注册成功弹窗-->
  <div class="result_layer dis_none" id="result_ok">
  	<div class="layer_txt">
  		<div class="close_x iconfont">&#xe9ba;</div>
  		<div class="txt">
  			<p>恭喜您！注册成功</p>
  		</div>
  		<div class="download_btn"><span class="dis_none"></span><b>下载APP即可领取</b></div>
  	</div>
  	<div class="shada"></div>
  </div>
  <div class="result_layer dis_none" id="result_yet">
  	<div class="layer_txt">
  		<div class="close_x iconfont">&#xe9ba;</div>
  		<div class="txt">
  			<p>您已注册过拓道金服</p>
  			<p>可直接下载app使用</p>
  		</div>
  		<div class="download_btn"><span class="dis_none"></span><b>去下载APP</b></div>
  	</div>
  	<div class="shada"></div>
  </div>
</body>
</html>
<script type="text/javascript" src="js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src="js/plug/layer/layer.js"></script>
<script>
	$(function() {
        $(".phone_ipnut").blur(function(){
        	var phone = $(this).val();
            phone = /^1[345678]\d{9}$/.test(phone);
            if(phone){
				//  输入正确的手机号 ajax请求接口是否注册 如果已经注册 弹窗提示
//				$("#result_yet").show();
            }else{
           		layer.msg('请输入正确的手机号码',{time:2000});
            }
        })
        // 获取验证码
        $("#get_code").on("click",function(){
        	if($(this).hasClass("get_codes")){
        		return false;
        	}else{
        		var phone = $(".phone_ipnut").val();
           		phone = /^1[345678]\d{9}$/.test(phone);
        		var imgCode = $(".imgCode_input").val();
	        	if(imgCode != "" && phone){
	        		// 显示加载动画
	        		var index = layer.load(1, {shade: [0.1,'#000']});
	        		layer.closeAll();
					settime();
	        		// ajax请求发送手机验证码
	        		
	        	}else if(phone == false){
	           		layer.msg('请输入正确的手机号码',{time:2000});
	        	}else if(imgCode == ''){
	           		layer.msg('图形验证码不正确',{time:2000});
	        	}
        	}
        });
        //点击立即注册
        $(".sub_register").on("click",function(){
        	var phone = $(".phone_ipnut").val();
        	phone = /^1[345678]\d{9}$/.test(phone);
        	var imgCode = $(".imgCode_input").val();
        	var phoneCode = $(".phoneCode_input").val();
        	var psw_input = $(".psw_input").val().length;
        	console.log(phone)
        	if(!phone){
           		layer.msg('请输入正确的手机号码',{time:2000});
        	}else if(imgCode == ''){
           		layer.msg('请输入图形验证码',{time:2000});
        	}else if(phoneCode == ''){
           		layer.msg('请输入短信验证码',{time:2000});
        	}else if(psw_input < 6 || psw_input > 16){
           		layer.msg('请设置6-16位登录密码',{time:2000});
        	}else if(phone != '' && imgCode != '' && phoneCode != '' && psw_input != ''){
        		//ajax请求
        		
        	}
        });
         // 倒计时60秒
        var countdown=60;
		function settime() {
			if (countdown == 0) { 
				$('.get_code').removeClass("get_codes")
				$('.get_code').html("重新获取");
				countdown = 60;
				return false;
			} else { 
				countdown--; 
				$('.get_code').addClass("get_codes");
				$('.get_code').html(countdown+'s后重发');
			};
			setTimeout(function() { 
				settime() 
			},1000);	
		};
        //下载APP
        $(".download_btn").on("touchstart", function() {
        	$(this).find("span").show();
        })
        $(".download_btn").on("touchend", function() {
        	$(this).find("span").hide();
        })
        $(".sub_register").on("touchstart", function() {
        	$(this).find("span").show();
        })
        $(".sub_register").on("touchend", function() {
        	$(this).find("span").hide();
        })
        $(".checkbox").on("click",function(){
        	if($(this).hasClass("checkboxs")){
        		$(this).attr("status","true").removeClass("checkboxs");
        	}else{
        		$(this).attr("status","false").addClass("checkboxs");
        	}
        });
        $(".close_x").on("click",function(){
        	$(".result_layer").hide();
        })
 	})
</script>
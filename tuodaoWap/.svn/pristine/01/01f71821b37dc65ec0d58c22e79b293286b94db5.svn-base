<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no" />
		<meta name="full-screen" content="yes">
		<meta name="x5-fullscreen" content="true">
		<title>项目详情</title>
		<meta name="full-screen" content="yes">
		<meta name="x5-fullscreen" content="true">
		<link rel="stylesheet" type="text/css" href="css/reset.css">
		<link rel="stylesheet" href="css/mescroll.min.css" />
		<link rel="stylesheet" href="css/mescroll-option.css" />
		<script src="js/base.js"></script>
		<style type="text/css">
			body {
				background: #f3f3f3;
				font-family: PingFangSC-Regular
			}
			
			.dis_none {
				display: none;
			}
			
			.bond .top_nav {
				width: 100%;
				height: .9rem;
				position: fixed;
				background-color: #fff;
				z-index: 999;
				top: 0;
				left: 0;
			}
			
			.bond .top_nav ul {
				width: 100%;
				height: 100%;
				overflow: hidden;
			}
			
			.bond .top_nav ul li {
				float: left;
				width: 33%;
				height: .9rem;
				font-size: .28rem;
				color: #999999;
				text-align: center;
				line-height: .9rem;
				position: relative;
				-webkit-tap-highlight-color: transparent;
			}
			
			.bond .top_nav ul li.on:after {
				content: " ";
				width: 0.68rem;
				height: .06rem;
				background-color: #FF7102;
				position: absolute;
				left: 36%;
				bottom: 0;
				border-radius: 3px;
				z-index: 5;
			}
			
			.bond .top_nav ul li.on {
				color: #FF7B00;
			}
			
			.bond .upload {
				width: 100%;
				height: .6rem;
				background-color: #F2F3F7;
			}
			
			.bond .upload p {
				width: 100%;
				height: .6rem;
				font-size: .24rem;
				color: #ccc;
				text-align: center;
				line-height: .6rem;
			}
			
			.bond .upload p i {
				margin-right: .14rem;
			}
			
			.bond .mescroll {
				width: 100%;
				position: fixed;
				top: 0.9rem;
				left: 0;
			}
			
			.bond .bond_list {
				background-color: #fff;
			}
			
			.bond .deatils_title {
				font-size: 0.28rem;
				color: #333;
				height: 0.7rem;
				line-height: 0.7rem;
				border-bottom: 1px solid #E0E0E0;
				padding-left: 0.3rem;
				-webkit-box-sizing: border-box;
				-moz-box-sizing: border-box;
				box-sizing: border-box;
			}
			
			.bond .deatils_title span {
				display: inline-block;
				width: 0.06rem;
				height: 0.24rem;
				background-color: #FF7102;
				border-radius: 20px;
				margin-right: 0.14rem;
			}
			
			.bond .summary_list div {
				padding: 0 0.3rem;
			}
			
			.bond .summary_list div p span {
				display: inline-block;
				width: 5px;
				height: 5px;
				background-color: #FF7B00;
				border-radius: 50px;
				margin-right: 0.15rem;
				position: absolute;
				left: 0;
				top: 45%;
			}
			
			.bond .summary_list div:nth-child(1) {
				padding-top: 0.07rem;
			}
			
			.bond .summary_list div:nth-child(2) {
				padding-bottom: 0.35rem;
			}
			
			.bond .bond_intro .a_scate {
				text-align: center;
				padding-top: 0.35rem;
			}
			
			.bond .bond_intro .a_scate a {
				display: block;
				font-size: 0.26rem;
				color: #FF7102;
				line-height: 0.37rem;
			}
			
			.bond .summary_list div p:nth-child(1) {
				font-size: 0.26rem;
				color: #999;
				margin-top: 0.17rem;
				line-height: 0.37rem;
				padding-left: 0.23rem;
				position: relative;
			}
			
			.bond .summary_list div p:nth-child(2) {
				font-size: 0.26rem;
				color: #333;
				line-height: 0.37rem;
				margin-top: 0.07rem;
				padding-left: 0.23rem;
			}
			
			.bond .bond_gua {
				background-color: #fff;
				padding-bottom: 0.3rem;
			}
			
			.bond .guarantee {
				padding: 0 0.3rem;
				padding-top: 0.25rem;
			}
			
			.bond .guarantee p {
				font-size: 0.26rem;
				color: #333;
				line-height: 0.4rem;
			}
			
			.bond .bond_manage {
				background-color: #fff;
				margin-top: 0.2rem;
				padding-bottom: 0.3rem;
			}
			
			.bond .carDeta {
				margin-top: 0.2rem;
			}
			
			.bond .carDeta .carDeta_money {
				padding: 0.07rem 0 0.26rem;
			}
			
			.bond .carDeta .carDeta_money div {
				overflow: hidden;
				padding: 0 0.3rem;
				line-height: 0.37rem;
				margin-top: 0.17rem;
			}
			
			.bond .carDeta .carDeta_money div p {
				font-size: 0.26rem;
			}
			
			.bond .carDeta .carDeta_money div p:nth-child(1) {
				color: #999;
				float: left;
			}
			
			.bond .carDeta .carDeta_money div p:nth-child(2) {
				color: #333;
				float: right;
			}
			
			.bond .issue {
				margin-top: 0.2rem;
				padding-bottom: 0.35rem;
			}
			
			.bond .issue ul li {
				padding: 0 0.3rem;
				overflow: hidden;
			}
			
			.bond .issue ul li p {
				font-size: 0.26rem;
				line-height: 0.37rem;
			}
			
			.bond .issue ul li p:nth-child(1) {
				color: #333;
				margin-top: 0.27rem;
			}
			
			.bond .issue ul li p:nth-child(2) {
				color: #999;
				margin-top: 0.16rem;
			}
			
			.bond .bond_record {
				background-color: #fff;
			}
			
			.bond .bond_record li {
				margin: 0 .3rem;
				height:1.37rem;
				overflow: hidden;
				border-bottom: 1px solid #E0E0E0;
				font-size: 0.28rem;
				font-size:.28rem;
				color:#333;
			}
			
			.bond .bond_record li:last-child {
				border-bottom: none;
			}
			
			.bond .bond_record li div:nth-child(1) {
				float: left;
				height: 1.37rem;
				line-height: 1.37rem;
			}
			
			.bond .bond_record li div:nth-child(2) {
				float: right;
			}
			
			.bond .bond_record li div p:nth-child(1) {
				font-size: 0.28rem;
				color: #333;
				margin-top: 0.3rem;
				line-height: 0.4rem;
				text-align: right;
			}
			
			.bond .bond_record li div p:nth-child(2) {
				font-size: 0.22rem;
				color: #999;
				line-height: 0.3rem;
				margin-top: 0.08rem;
			}
		</style>
	</head>

	<body>
		<div class="bond max_width">
			<div class="top_nav">
				<ul>
					<li class="on" i="0">项目介绍</li>
					<li i="1">透明合规</li>
					<li i="2">出借记录</li>
				</ul>
			</div>
			<div class="bond_intro mescroll" id="mescroll0">
				<div class="upload" id="upload">
					<p><i class="iconfont">&#xe843;</i>下拉释放，返回标的信息</p>
				</div>
				<div class="bond_list summary">
					<div class="deatils_title"><span></span>项目概述</div>
					<div class="summary_list">
						<div>
							<p><span></span>债转介绍：</p>
							<p>债权转让，指出借人将在本平台出借的借款项目转让给其 他本平台用户，并与授让人签订债权转让协议，收回本金 及利息的操作。债权转让能提高出借者资金的流动性，当 你需要流动资金时，可以通过出售你名下拥有的符合相应 条件的债权给其他出借人，从而完成债权转让，获得流动 资金。</p>
						</div>
						<div>
							<p><span></span>奖励金转让：</p>
							<p>本次债权转让，经本平台审核通过，转让人的奖励会在债 权转让完成时对转让人进行扣除，并发放到承接人账户。</p>
						</div>
					</div>
				</div>
				<div class="a_scate">
					<a href="javascript:;">查看原始标的 ></a>
				</div>
			</div>
			<div class="bond_comp dis_none mescroll" id="mescroll1">
				<div class="upload" id="upload">
					<p><i class="iconfont">&#xe843;</i>下拉释放，返回标的信息</p>
				</div>
				<div class="bond_gua">
					<div class="deatils_title"><span></span>保障措施</div>
					<div class="guarantee">
						<p>1.车辆完成合法抵押手续；</p>
						<p>2.车辆在车管所进行登记并安装Gps追踪器，由风控部门进行全程监控；</p>
						<p>3.多家专业车辆评估机构对比评估，保证评估价格合理； </p>
						<p>4.电话核实商业保单正常；</p>
						<p>5.如借款人在借款期间，出现征信异常将通过站内信的方式给予出借人提示。</p>
					</div>
				</div>
				<div class="bond_manage">
					<div class="deatils_title"><span></span>资金分账管理</div>
					<div class="guarantee">
						<p>拓道金服坚守信息中介平台定位，不设资金池。实现平台自有资金与用户资金的账户分设管理和风险隔离，平台与会员资金交易变动交由银行进行管理与监督，平台无法接触交易资金。</p>
					</div>
				</div>
			</div>
			<div class="bond_record mescroll dis_none" id="mescroll2">
				<div class="upload" id="upload">
					<p><i class="iconfont">&#xe843;</i>下拉释放，返回标的信息</p>
				</div>
				<div>
					<ul id="borrow_record">
						<li>
							<div>188*****3626</div>
							<div>
								<p>12340.00</p>
								<p>2018-06-12 09:32</p>
							</div>
						</li>
						<li>
							<div>188*****3626</div>
							<div>
								<p>12340.00</p>
								<p>2018-06-12 09:32</p>
							</div>
						</li>
						<li>
							<div>188*****3626</div>
							<div>
								<p>12340.00</p>
								<p>2018-06-12 09:32</p>
							</div>
						</li>
						<li>
							<div>188*****3626</div>
							<div>
								<p>12340.00</p>
								<p>2018-06-12 09:32</p>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</body>

</html>
<script src="js/jquery-2.1.0.min.js"></script>
<script src="js/mescroll.min.js"></script>
<script>
	$(function() {
		var curNavIndex = 0;
		var mescrollArr = new Array(3);
		//初始化首页
		mescrollArr[0] = initMescroll("mescroll0");
		//	tab切换
		$('.bond .top_nav ul li').on('click', function() {
			var _index = $(this).index();
			var i = $(this).attr('i');
			$('.bond .top_nav ul li').removeClass('on');
			$(this).addClass('on');
			$('.bond .mescroll').hide();
			$('.bond .mescroll').eq(_index).show();
			if(mescrollArr[i] == null) {
				mescrollArr[i] = initMescroll("mescroll" + i);
			}
			curNavIndex = i;
		})

		function initMescroll(mescrollId) {
			if(mescrollId == 'mescroll2') {
				var mescroll = new MeScroll(mescrollId, {
					down: {
						callback: downCallback,
						auto: false,
						isBounce: false,
						offset: 200,
						outOffsetRate: 0.1
					},
					up: {
						callback: getListData,
						auto: false,
						isBounce: false,
						noMoreSize: 4,
						page: {
							num: 1,
							size: 10,
							time: null
						},
						empty: {
							tip: "暂无相关数据~"
						}
					}
				});
			} else {
				var mescroll = new MeScroll(mescrollId, {
					down: {
						callback: downCallback,
						auto: false,
						isBounce: true,
						offset: 200,
						outOffsetRate: 0.8
					}
				});
			}

			function downCallback() {
				mescroll.endDownScroll();
				//	此处调用ios方法
				if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {
					setupWebViewJavascriptBridge(function (bridge) {
						bridge.callHandler('h5ToNative_To_takeInvest', {}, function (response) {})
					})
				} else if (/(Android)/i.test(navigator.userAgent)) {
					window.TDBridge.h5ToNative_To_takeInvest(function(data) {})
				}
			}
			return mescroll;
		}

		function getListData(page) {
			//联网加载数据
			var dataIndex = curNavIndex; //记录当前联网的nav下标,防止快速切换时,联网回来curNavIndex已经改变的情况;
			getListDataFromNet(dataIndex, page.num, page.size, function(pageData) {
				//联网成功的回调,隐藏下拉刷新和上拉加载的状态;
				//mescroll会根据传的参数,自动判断列表如果无任何数据,则提示空;列表无下一页数据,则提示无更多数据;
				console.log("dataIndex=" + dataIndex + ", curNavIndex=" + curNavIndex + ", page.num=" + page.num + ", page.size=" + page.size + ", pageData.length=" + pageData.length);

				//方法一(推荐): 后台接口有返回列表的总页数 totalPage
				//mescrollArr[dataIndex].endByPage(pageData.length, totalPage); //必传参数(当前页的数据个数, 总页数)

				//方法二(推荐): 后台接口有返回列表的总数据量 totalSize
				//mescrollArr[dataIndex].endBySize(pageData.length, totalSize); //必传参数(当前页的数据个数, 总数据量)

				//方法三(推荐): 您有其他方式知道是否有下一页 hasNext
				//mescrollArr[dataIndex].endSuccess(pageData.length, hasNext); //必传参数(当前页的数据个数, 是否有下一页true/false)

				//方法四 (不推荐),会存在一个小问题:比如列表共有20条数据,每页加载10条,共2页.如果只根据当前页的数据个数判断,则需翻到第三页才会知道无更多数据,如果传了hasNext,则翻到第二页即可显示无更多数据.
				mescrollArr[dataIndex].endSuccess(pageData.length);

				//设置列表数据
				setListData(pageData, dataIndex);
			}, function() {
				//联网失败的回调,隐藏下拉刷新和上拉加载的状态;
				mescrollArr[dataIndex].endErr();
			});
		}

		function setListData(pageData) {
			//		拼接字符串,获取数据
			var listDom = $('#borrow_record')
			for(var i = 0; i < pageData.length; i++) {
				var pd = pageData[i];
				var str = '<p class="pd-name">' + pd.pdName + '</p>';
				var liDom = document.createElement("li");
				liDom.innerHTML = str;
				listDom.append(liDom);
			}
		}

		function getListDataFromNet(curNavIndex, pageNum, pageSize, successCallback, errorCallback) {
			//			请求数据
			setTimeout(function() {
				$.ajax({
					type: 'GET',
					url: 'js/pdlist1.json',
					dataType: 'json',
					success: function(data) {
						var listData = [];
						// 	模拟分页
						for(var i = (pageNum - 1) * pageSize; i < pageNum * pageSize; i++) {
							if(i == data.length) break;
							listData.push(data[i]);
						}
						//回调
						successCallback(listData);
					},
					error: errorCallback
				});
			}, 500)
		}
		$('.a_scate').on('click',function(){
			if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {
					setupWebViewJavascriptBridge(function (bridge) {
						bridge.callHandler('h5ToNative_To_takeInvestInfo', {}, function (response) {})
					})
				} else if (/(Android)/i.test(navigator.userAgent)) {
					window.TDBridge.h5ToNative_To_takeInvestInfo(function(data) {})
			}
		});
		function setupWebViewJavascriptBridge(callback) {
			if (window.WebViewJavascriptBridge) {
					return callback(window.WebViewJavascriptBridge)
				}
				if (window.WVJBCallbacks) {
					return window.WVJBCallbacks.push(callback)
				}
				window.WVJBCallbacks = [callback]
				let WVJBIframe = document.createElement('iframe')
				WVJBIframe.style.display = 'none'
				WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__'
				document.documentElement.appendChild(WVJBIframe)
				setTimeout(function () {
					document.documentElement.removeChild(WVJBIframe)
				}, 0)
		}

	})
</script>
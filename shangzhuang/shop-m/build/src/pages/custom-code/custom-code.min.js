!function(i){function o(e){if(t[e])return t[e].exports;var a=t[e]={exports:{},id:e,loaded:!1};return i[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}var t={};return o.m=i,o.c=t,o.p="",o(0)}([function(i,o,t){"use strict";var e=t(1),a=function(){this.$inputBox=$(".j_InputBox"),this.$text=$(".j_Text"),this.level1Length=6,this.level2Length=8,this.level=$(".j_Level").val(),this.letters=$(".j_HeadLetters").val(),this.confirmBtn=$(".j_ConfirmBtn"),this.apiUrl="/api/inviteCode/add"};a.prototype={init:function(){this.inputEvent(),this.confirmCode()},updateLetter:function(i){this.$text.forEach(function(o,t){$(o).hasClass("disable")||(i[t]?$(o).text(i[t]):$(o).text(""))})},checkVaild:function(i){var o=/^[a-z]{2}\d{6}$/;return!!o.test(i)},inputEvent:function(){var i=this;i.$inputBox.on("focus",function(){if(!$(this).hasClass("disable")){$(this).val("");var o="";"1"===i.level&&(o=i.letters),i.updateLetter(o)}}),i.$inputBox.on("input",function(){if(!$(this).hasClass("disable")){var o=i.$inputBox.val();"1"===i.level?(o.length>=i.level1Length&&i.$inputBox.val(o.substring(0,i.level1Length)),i.updateLetter(i.letters+o)):(o.length>=i.level2Length&&i.$inputBox.val(o.substring(0,i.level2Length)),i.updateLetter(o))}})},submit:function(i){var o=this;$.ajax({url:this.apiUrl,type:"get",dataType:"json",data:{inviteCode:i},success:function(i){i.isSuccess?e.confirm({title:"恭喜，您的定制邀请码设置成功！",btntext:"确认",callback:function(){o.$inputBox.remove(),o.confirmBtn.addClass("disable"),o.$text.addClass("disable")}}):e.toast(i.msg)},error:function(){e.toast("sorry~ 小店被挤爆了，请稍后再试！")}})},confirmCode:function(){var i=this;i.confirmBtn.on("click",function(){if($(this).hasClass("disable"))return void e.toast("对不起，已经定制后的邀请码，暂不支持修改！");var o="1"===i.level?i.letters+i.$inputBox.val():i.$inputBox.val();return i.checkVaild(o)?void i.submit(o):void e.toast("对不起，邀请码格式错误，请重新输入！")})}},$(function(){(new a).init()})},function(i,o,t){t(2);var e=function(){var i={},o=function(i){i.css("display","block"),i.removeClass("joy-ui-dialog-hide").addClass("joy-ui-dialog-show")},t=function(i){i.removeClass("joy-ui-dialog-show").addClass("joy-ui-dialog-hide"),setTimeout(function(){i.css("display","none")},0)};return i.pop=function(i,e,a){var n=$(".j_Joy-ui-dialog-pop");if(0===n.length){var l='<div class="joy-ui-dialog-pop-close-btn j_Joy-ui-dialog-pop-close"></div>',r='<div class = "joy-ui-dialog-pop-title"></div>',d='<div class = "joy-ui-dialog-pop-message"></div>';n=$('<div class="joy-ui-dialog-pop j_Joy-ui-dialog-pop"><div class="joy-ui-dialog-pop-window">'+l+r+d+"</div></div>"),$("body").append(n),n.on("click",".j_Joy-ui-dialog-pop-close",function(){t(n)})}n.find(".joy-ui-dialog-pop-title").text(i),n.find(".joy-ui-dialog-pop-message").html(e?e:a),o(n)},i.confirm=function(i){var e=$(".j_Joy-ui-dialog-confirm");if(0===e.length){var a='<div class="joy-ui-dialog-confirm-title">'+i.title+'</div><div class="joy-ui-dialog-confirm-subtitle" >'+(i.subtitle?i.subtitle:"")+"</div>",n='<div class="joy-ui-dialog-confirm-btn j_Joy-ui-dialog-confirm-btn" >'+i.btntext+"</div>",l='<div class="joy-ui-dialog-confirm-content">'+(i.content?i.content:"")+"</div>";e=$('<div class="joy-ui-dialog-confirm j_Joy-ui-dialog-confirm"><div class="joy-ui-dialog-confirm-window">'+a+l+n+"</div></div>"),$("body").append(e)}else e.find(".joy-ui-dialog-confirm-title").html(i.title),e.find(".joy-ui-dialog-confirm-subtitle").html(i.subtitle?i.subtitle:""),e.find(".joy-ui-dialog-confirm-btn").html(i.btntext),e.find(".joy-ui-dialog-confirm-content").html(i.content?$(i.content):"");o(e),e.unbind("click").on("click",".j_Joy-ui-dialog-confirm-btn",function(o){o.preventDefault(),o.stopPropagation(),t(e),i.callback&&i.callback.call(i)}),$(document).on("click",".j_Joy-ui-dialog-confirm",function(){t(e)})},i.iconConfirm=function(i){var e=$(".j_Joy-ui-dialog-confirm");if(0===e.length){var a='<div class="joy-ui-dialog-confirm-icon">'+i.icon+'</div><div class="joy-ui-dialog-confirm-title">'+i.message+"</div>",n='<div class="joy-ui-dialog-confirm-btn j_Joy-ui-dialog-confirm-btn" >'+i.btntext+"</div>";e=$('<div class="joy-ui-dialog-confirm j_Joy-ui-dialog-confirm"><div class="joy-ui-dialog-confirm-window">'+a+n+"</div></div>"),$("body").append(e)}else e.find(".joy-ui-dialog-confirm-icon").html(i.icon),e.find(".joy-ui-dialog-confirm-title").text(i.message),e.find(".joy-ui-dialog-confirm-btn").text(i.btntext);o(e),e.unbind("click").on("click",".j_Joy-ui-dialog-confirm-btn",function(){t(e),i.callback&&i.callback.call(i)})},i.toast=function(i,e){var a=$(".j_Joy-ui-dialog-toast"),n=e||3e3;0===a.length&&(a=$('<div class="j_Joy-ui-dialog-toast joy-ui-dialog-toast">'+i+"</div>"),$("body").append(a)),a.text(i),o(a),this.timeId&&clearTimeout(this.timeId),this.timeId=setTimeout(function(){t(a)},n)},i.wxShare=function(){var i=$(".j_Joy-ui-dialog-wxshare");0===i.length&&(i=$('<div class="joy-ui-dialog-wxshare j_Joy-ui-dialog-wxshare"><div class="joy-ui-dialog-wxshare-icon"></div><div class="joy-ui-dialog-wxshare-text">点击右上角分享到好友<br/>或者分享到朋友圈</div></div>'),$("body").append(i),$(i).on("click",function(){t(i)})),o(i)},i.alert=function(i){var e=$(".j_Joy-ui-dialog-alert");0!==e.length&&e.remove();var a='<div class="joy-ui-dialog-alert-title">'+i.title+"</div>";if(2!==i.btn.length)return void console.log("dialog 组件错误：btn数组长度错误");var n='<div class="joy-ui-dialog-alert-btn-group">';i.btn.forEach(function(i,o){n+='<div class="joy-ui-dialog-alert-btn j_Joy-ui-dialog-alert-btn-'+o+'">'+i.btntext+"</div>"}),n+="</div>",e=$('<div class="joy-ui-dialog-alert j_Joy-ui-dialog-alert"><div class="joy-ui-dialog-alert-window">'+a+n+"</div></div>"),$("body").append(e),o(e),i.btn.forEach(function(o,a){$(".j_Joy-ui-dialog-alert-btn-"+a).unbind("click").on("click",function(){t(e),o.callback&&o.callback.call(i)})})},i.select=function(i){var e=$(".j_Joy-ui-dialog-select"),a="";if(!e.length){for(var n=0;n<i.items.length;n++)a+='<p class="j_Joy-ui-dialog-select-item joy-ui-dialog-select-item" data-index="'+n+'">'+i.items[n].text+"</p>";e=$('<div class="j_Joy-ui-dialog-select joy-ui-dialog-select"><div class="joy-ui-dialog-select-window j_Joy-ui-dialog-select-window">'+a+"</div></div>"),$("body").append(e)}o(e),$(".j_Joy-ui-dialog-select-window")[0].scrollTop=0,$(".j_Joy-ui-dialog-select-item").on("click",function(o){o.preventDefault(),o.stopPropagation();var a=$(this).index();i.items[a].callback&&i.items[a].callback.call(i),$(".j_Joy-ui-dialog-select-item").off("click"),t(e)}),e.on("click",function(){t(e)})},i}();i.exports=e},function(i,o,t){var e=t(3);"string"==typeof e&&(e=[[i.id,e,""]]);t(5)(e,{});e.locals&&(i.exports=e.locals)},function(i,o,t){o=i.exports=t(4)(),o.push([i.id,'.joy-ui-dialog-pop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999;opacity:0}.joy-ui-dialog-pop .joy-ui-dialog-pop-window{position:fixed;top:50%;left:50%;width:6.8rem;min-height:3.73333333rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.53333333rem .4rem .4rem;background-color:#fff;max-height:10.666667rem;overflow-y:auto}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-close-btn{position:absolute;top:.13333333rem;right:.13333333rem;width:.56rem;height:.56rem;background:url("//cdn1.showjoy.com/images/59/5954b558bd5e4d8fa5c40756099bc1f6.png") 50% no-repeat;background-size:.56rem .56rem}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-title{margin-bottom:.26666667rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;color:#000;text-align:center}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-message{font:normal .42666667rem/.64rem PingFang-SC-Regular;color:#9e9e9e}.joy-ui-dialog-confirm{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window{position:fixed;top:50%;left:50%;width:6.8rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.4rem .4rem 1.73333333rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;text-align:center;background-color:#fff}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-icon{font:normal .66666667rem/.66666667rem iconfont;margin-bottom:.13333333rem;color:#f93450}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-title{color:#393836}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-subtitle{margin-top:.24rem;color:#9e9e9e}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-btn{position:absolute;bottom:0;left:0;width:100%;height:1.33333333rem;background-color:#9063f0;font:normal .42666667rem/1.33333333rem PingFang-SC-Regular;color:#fff}.joy-ui-dialog-confirm.hide{display:none}.joy-ui-dialog-toast{position:fixed;left:50%;top:50%;z-index:99999999;margin-left:-3.2rem;margin-top:-1.333334rem;width:6.4rem;padding:.266666rem;opacity:0;border-radius:.186666rem;background-color:rgba(0,0,0,.7);box-shadow:.266666rem .266666rem .266666rem -.266666rem rgba(0,0,0,.7);text-align:center;font-size:.346666rem;line-height:1.4;color:#fff}.joy-ui-dialog-wxshare{position:fixed;top:0;left:0;z-index:10000;width:100%;height:100%;background:rgba(0,0,0,.4);opacity:0}.joy-ui-dialog-wxshare .joy-ui-dialog-wxshare-icon{position:absolute;top:0;right:.13333333rem;width:1.14666667rem;height:1.14666667rem;background:url("//cdn1.showjoy.com/images/8b/8bccc512b0fb479a8c0c36afafcad4c1.png") 50% no-repeat;background-size:1.14666667rem 1.14666667rem}.joy-ui-dialog-wxshare .joy-ui-dialog-wxshare-text{position:absolute;top:1.33333333rem;right:.4rem;width:4rem;height:.96rem;font:normal .37333333rem/.48rem PingFang-SC-Regular;color:#fff;text-align:center}.joy-ui-dialog-alert{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999}.joy-ui-dialog-alert .joy-ui-dialog-alert-window{position:fixed;top:50%;left:50%;width:6.8rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.8rem .4rem 2.13333333rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;text-align:center;background-color:#fff}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-title{color:#393836}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group{position:absolute;bottom:0;left:0;width:100%;height:1.33333333rem;font:normal .42666667rem/1.33333333rem PingFang-SC-Regular;color:#fff}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:after,.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:before{display:table;content:""}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:after{clear:both}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn{float:left;width:50%;height:100%}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn:first-child{background-color:#000}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn:nth-child(2){background-color:#f93450}.joy-ui-dialog-select{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999}.joy-ui-dialog-select .joy-ui-dialog-select-window{position:absolute;width:100%;padding:0 .533333rem;max-height:5.94rem;left:0;bottom:0;background-color:#fefefe;overflow-y:scroll;-webkit-overflow-scrolling:touch;animation:"joy-ui-sliderup-animate" .6s ease normal both;-webkit-animation:"joy-ui-sliderup-animate" .6s ease normal both}.joy-ui-dialog-select .joy-ui-dialog-select-window .joy-ui-dialog-select-item{height:1.32rem;line-height:1.32rem;text-align:center;border-bottom:1px solid #ddd}.joy-ui-dialog-show{animation:"joy-ui-dialog-show-animate" .7s ease 1 normal both;-webkit-animation:"joy-ui-dialog-show-animate" .7s ease 1 normal both}.joy-ui-dialog-hide{animation:"joy-ui-dialog-hide-animate" .7s ease 1 normal both;-webkit-animation:"joy-ui-dialog-hide-animate" .7s ease 1 normal both}@-webkit-keyframes joy-ui-sliderup-animate{0%{-webkit-transform:translateY(100%)}to{-webkit-transform:translateY(0)}}@keyframes joy-ui-sliderup-animate{0%{transform:translateY(100%)}to{transform:translateY(0)}}@-webkit-keyframes joy-ui-dialog-show-animate{0%{opacity:0}to{opacity:1}}@keyframes joy-ui-dialog-show-animate{0%{opacity:0}to{opacity:1}}@-webkit-keyframes joy-ui-dialog-hide-animate{0%{opacity:1}to{opacity:0}}@keyframes joy-ui-dialog-hide-animate{0%{opacity:1}to{opacity:0}}',""])},function(i,o){i.exports=function(){var i=[];return i.toString=function(){for(var i=[],o=0;o<this.length;o++){var t=this[o];t[2]?i.push("@media "+t[2]+"{"+t[1]+"}"):i.push(t[1])}return i.join("")},i.i=function(o,t){"string"==typeof o&&(o=[[null,o,""]]);for(var e={},a=0;a<this.length;a++){var n=this[a][0];"number"==typeof n&&(e[n]=!0)}for(a=0;a<o.length;a++){var l=o[a];"number"==typeof l[0]&&e[l[0]]||(t&&!l[2]?l[2]=t:t&&(l[2]="("+l[2]+") and ("+t+")"),i.push(l))}},i}},function(i,o,t){function e(i,o){for(var t=0;t<i.length;t++){var e=i[t],a=f[e.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](e.parts[n]);for(;n<e.parts.length;n++)a.parts.push(s(e.parts[n],o))}else{for(var l=[],n=0;n<e.parts.length;n++)l.push(s(e.parts[n],o));f[e.id]={id:e.id,refs:1,parts:l}}}}function a(i){for(var o=[],t={},e=0;e<i.length;e++){var a=i[e],n=a[0],l=a[1],r=a[2],d=a[3],s={css:l,media:r,sourceMap:d};t[n]?t[n].parts.push(s):o.push(t[n]={id:n,parts:[s]})}return o}function n(i,o){var t=y(),e=b[b.length-1];if("top"===i.insertAt)e?e.nextSibling?t.insertBefore(o,e.nextSibling):t.appendChild(o):t.insertBefore(o,t.firstChild),b.push(o);else{if("bottom"!==i.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(o)}}function l(i){i.parentNode.removeChild(i);var o=b.indexOf(i);o>=0&&b.splice(o,1)}function r(i){var o=document.createElement("style");return o.type="text/css",n(i,o),o}function d(i){var o=document.createElement("link");return o.rel="stylesheet",n(i,o),o}function s(i,o){var t,e,a;if(o.singleton){var n=j++;t=h||(h=r(o)),e=u.bind(null,t,n,!1),a=u.bind(null,t,n,!0)}else i.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=d(o),e=g.bind(null,t),a=function(){l(t),t.href&&URL.revokeObjectURL(t.href)}):(t=r(o),e=c.bind(null,t),a=function(){l(t)});return e(i),function(o){if(o){if(o.css===i.css&&o.media===i.media&&o.sourceMap===i.sourceMap)return;e(i=o)}else a()}}function u(i,o,t,e){var a=t?"":e.css;if(i.styleSheet)i.styleSheet.cssText=v(o,a);else{var n=document.createTextNode(a),l=i.childNodes;l[o]&&i.removeChild(l[o]),l.length?i.insertBefore(n,l[o]):i.appendChild(n)}}function c(i,o){var t=o.css,e=o.media;if(e&&i.setAttribute("media",e),i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}function g(i,o){var t=o.css,e=o.sourceMap;e&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */");var a=new Blob([t],{type:"text/css"}),n=i.href;i.href=URL.createObjectURL(a),n&&URL.revokeObjectURL(n)}var f={},m=function(i){var o;return function(){return"undefined"==typeof o&&(o=i.apply(this,arguments)),o}},p=m(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=m(function(){return document.head||document.getElementsByTagName("head")[0]}),h=null,j=0,b=[];i.exports=function(i,o){o=o||{},"undefined"==typeof o.singleton&&(o.singleton=p()),"undefined"==typeof o.insertAt&&(o.insertAt="bottom");var t=a(i);return e(t,o),function(i){for(var n=[],l=0;l<t.length;l++){var r=t[l],d=f[r.id];d.refs--,n.push(d)}if(i){var s=a(i);e(s,o)}for(var l=0;l<n.length;l++){var d=n[l];if(0===d.refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete f[d.id]}}}};var v=function(){var i=[];return function(o,t){return i[o]=t,i.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=custom-code.min.js.map
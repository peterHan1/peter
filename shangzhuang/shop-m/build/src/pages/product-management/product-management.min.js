!function(o){function i(e){if(t[e])return t[e].exports;var n=t[e]={exports:{},id:e,loaded:!1};return o[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var t={};return i.m=o,i.c=t,i.p="",i(0)}([function(o,i,t){"use strict";var e=t(1),n=t(6),a=t(9),r=t(10);Zepto(function(){function o(o,i){e.show(),$.ajax({url:"/api/shop/shopProduct/unselect",type:"POST",data:{shopProductId:o},dataType:"json",success:function(o){"string"==typeof o&&(o=JSON.parse(o)),e.hide(),1===o.isSuccess?i.remove():n.toast("删除商品失败，请稍后尝试！")},error:function(){n.toast("服务器开小差啦，请稍候尝试！")}})}function i(o,i){e.show(),$.ajax({url:"/api/shop/shopProduct/replace",type:"POST",data:{type:o,shopProductId:i},dataType:"json",success:function(o){"string"==typeof o&&(o=JSON.parse(o)),e.hide(),1===o.isSuccess&&1===o.isRedirect?window.location.href=o.redirectURL:n.toast(o.msg)},error:function(){e.hide(),n.toast("服务器开小差啦，请稍候尝试！")}})}function t(o,i){var t=$(".j_Msg");e.show(),$.ajax({url:"/api/shop/products",type:"POST",data:{shopId:d,page:o},dataType:"json",success:function(n){"string"==typeof n&&(n=JSON.parse(n)),e.hide(),1===n.isSuccess&&n.data.length>0?(c=!0,i(n.data)):(1===o?t.html("点击新增可以上架货品哦"):t.html("您只上架了这些货品哦"),t.show())},error:function(){e.hide(),n.toast("服务器开小差啦，请稍候尝试！")}})}function l(o){var i=template("product-tmpl",{data:o});$(".j_List").append(i)}var d=$(".j_ShopId").val(),s=1,c=!0,u=function(){return"test"===r.Env?".net":".com"}(),d=$(".j_ShopId").val();a.unRegisterShare(u,d),t(s,l),$(".j_TreasureProduct")&&""===$(".j_TreasureProduct").html()&&$(".j_ReplaceTreasure").html("新增"),$(".j_NewProduct")&&""===$(".j_NewProduct").html()&&$(".j_ReplaceNew").html("新增"),$(window).scroll(function(){$(window).scrollTop()+$(window).height()>=$(document)[0].body.scrollHeight-20&&c&&(c=!1,s++,t(s,l))}),$("body").on("click",".j_Replace",function(o){o.stopPropagation();var t=""===$(this).attr("sku-id")?0:$(this).attr("sku-id"),e=$(this).attr("pro-type");i(e,t)}),$(".j_List").on("click",".j_Delete",function(i){i.stopPropagation();var t=""===$(this).attr("sku-id")?0:$(this).attr("sku-id"),e=$(this).parents(".j_Pro");o(t,e)})})},function(o,i,t){t(2);var e=function(){var o=this,i=!1;o.show=function(){if(!i){var o=$("body"),t=arguments[0]?arguments[0]:"加载中···",e='<div class="joy-ui-loading j_JoyLoading"><div class="content-box"><div class="circle"></div><span>'+t+"</span></div></div>";o.append(e),i=!0}$(".j_JoyLoading").show()},o.hide=function(){i&&$(".j_JoyLoading").hide()}};o.exports=new e},function(o,i,t){var e=t(3);"string"==typeof e&&(e=[[o.id,e,""]]);t(5)(e,{});e.locals&&(o.exports=e.locals)},function(o,i,t){i=o.exports=t(4)(),i.push([o.id,".joy-ui-loading{display:none;z-index:999;position:fixed;left:0;top:0;width:100%;height:100%}.joy-ui-loading .content-box{position:absolute;width:4.266666rem;height:1.386666rem;left:50%;top:50%;line-height:1.386666rem;margin-top:-.8rem;margin-left:-2.133334rem;color:#fff;font-size:.426666rem;background-color:#111;border-radius:.133334rem;overflow:hidden}.joy-ui-loading .content-box .circle{position:relative;display:block;float:left;margin:.24rem .266666rem .24rem .8rem;width:.8rem;height:.8rem;border-top:2px solid #fff;border-right:2px solid #fff;border-bottom:2px solid #fff;border-left:2px solid hsla(0,0%,100%,.2);border-radius:.4rem;-webkit-animation:rotateO .6s 0s infinite normal linear;animation:rotateO .6s 0s infinite normal linear}@-webkit-keyframes rotateO{0%{-webkit-transform:rotate(-359deg);-webkit-transform-origin:center}to{-webkit-transform:rotate(0deg)}}@keyframes rotateO{0%{transform:rotate(-359deg);transform-origin:center}to{transform:rotate(0deg)}}",""])},function(o,i){o.exports=function(){var o=[];return o.toString=function(){for(var o=[],i=0;i<this.length;i++){var t=this[i];t[2]?o.push("@media "+t[2]+"{"+t[1]+"}"):o.push(t[1])}return o.join("")},o.i=function(i,t){"string"==typeof i&&(i=[[null,i,""]]);for(var e={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(e[a]=!0)}for(n=0;n<i.length;n++){var r=i[n];"number"==typeof r[0]&&e[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),o.push(r))}},o}},function(o,i,t){function e(o,i){for(var t=0;t<o.length;t++){var e=o[t],n=g[e.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](e.parts[a]);for(;a<e.parts.length;a++)n.parts.push(s(e.parts[a],i))}else{for(var r=[],a=0;a<e.parts.length;a++)r.push(s(e.parts[a],i));g[e.id]={id:e.id,refs:1,parts:r}}}}function n(o){for(var i=[],t={},e=0;e<o.length;e++){var n=o[e],a=n[0],r=n[1],l=n[2],d=n[3],s={css:r,media:l,sourceMap:d};t[a]?t[a].parts.push(s):i.push(t[a]={id:a,parts:[s]})}return i}function a(o,i){var t=h(),e=b[b.length-1];if("top"===o.insertAt)e?e.nextSibling?t.insertBefore(i,e.nextSibling):t.appendChild(i):t.insertBefore(i,t.firstChild),b.push(i);else{if("bottom"!==o.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(i)}}function r(o){o.parentNode.removeChild(o);var i=b.indexOf(o);i>=0&&b.splice(i,1)}function l(o){var i=document.createElement("style");return i.type="text/css",a(o,i),i}function d(o){var i=document.createElement("link");return i.rel="stylesheet",a(o,i),i}function s(o,i){var t,e,n;if(i.singleton){var a=j++;t=y||(y=l(i)),e=c.bind(null,t,a,!1),n=c.bind(null,t,a,!0)}else o.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=d(i),e=f.bind(null,t),n=function(){r(t),t.href&&URL.revokeObjectURL(t.href)}):(t=l(i),e=u.bind(null,t),n=function(){r(t)});return e(o),function(i){if(i){if(i.css===o.css&&i.media===o.media&&i.sourceMap===o.sourceMap)return;e(o=i)}else n()}}function c(o,i,t,e){var n=t?"":e.css;if(o.styleSheet)o.styleSheet.cssText=w(i,n);else{var a=document.createTextNode(n),r=o.childNodes;r[i]&&o.removeChild(r[i]),r.length?o.insertBefore(a,r[i]):o.appendChild(a)}}function u(o,i){var t=i.css,e=i.media;if(e&&o.setAttribute("media",e),o.styleSheet)o.styleSheet.cssText=t;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(t))}}function f(o,i){var t=i.css,e=i.sourceMap;e&&(t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */");var n=new Blob([t],{type:"text/css"}),a=o.href;o.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var g={},p=function(o){var i;return function(){return"undefined"==typeof i&&(i=o.apply(this,arguments)),i}},m=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,j=0,b=[];o.exports=function(o,i){i=i||{},"undefined"==typeof i.singleton&&(i.singleton=m()),"undefined"==typeof i.insertAt&&(i.insertAt="bottom");var t=n(o);return e(t,i),function(o){for(var a=[],r=0;r<t.length;r++){var l=t[r],d=g[l.id];d.refs--,a.push(d)}if(o){var s=n(o);e(s,i)}for(var r=0;r<a.length;r++){var d=a[r];if(0===d.refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete g[d.id]}}}};var w=function(){var o=[];return function(i,t){return o[i]=t,o.filter(Boolean).join("\n")}}()},function(o,i,t){t(7);var e=function(){var o={},i=function(o){o.css("display","block"),o.removeClass("joy-ui-dialog-hide").addClass("joy-ui-dialog-show")},t=function(o){o.removeClass("joy-ui-dialog-show").addClass("joy-ui-dialog-hide"),setTimeout(function(){o.css("display","none")},700)};return o.pop=function(o,e){var n=$(".j_Joy-ui-dialog-pop");if(0===n.length){var a='<div class="joy-ui-dialog-pop-close-btn j_Joy-ui-dialog-pop-close"></div>',r='<div class = "joy-ui-dialog-pop-title"></div>',l='<div class = "joy-ui-dialog-pop-message"></div>';n=$('<div class="joy-ui-dialog-pop j_Joy-ui-dialog-pop"><div class="joy-ui-dialog-pop-window">'+a+r+l+"</div></div>"),$("body").append(n),n.on("click",".j_Joy-ui-dialog-pop-close",function(){t(n)})}n.find(".joy-ui-dialog-pop-title").text(o),n.find(".joy-ui-dialog-pop-message").html(e),i(n)},o.confirm=function(o){var e=$(".j_Joy-ui-dialog-confirm");if(0===e.length){var n='<div class="joy-ui-dialog-confirm-title">'+o.title+'</div><div class="joy-ui-dialog-confirm-subtitle" >'+(o.subtitle?o.subtitle:"")+"</div>",a='<div class="joy-ui-dialog-confirm-btn j_Joy-ui-dialog-confirm-btn" >'+o.btntext+"</div>";e=$('<div class="joy-ui-dialog-confirm j_Joy-ui-dialog-confirm"><div class="joy-ui-dialog-confirm-window">'+n+a+"</div></div>"),$("body").append(e)}else e.find(".joy-ui-dialog-confirm-title").html(o.title),e.find(".joy-ui-dialog-confirm-subtitle").html(o.subtitle?o.subtitle:""),e.find(".joy-ui-dialog-confirm-btn").html(o.btntext);i(e),e.unbind("click").on("click",".j_Joy-ui-dialog-confirm-btn",function(i){i.preventDefault(),i.stopPropagation(),t(e),o.callback&&o.callback.call(o)}),e.on("click",function(){t(e)})},o.iconConfirm=function(o){var e=$(".j_Joy-ui-dialog-confirm");if(0===e.length){var n='<div class="joy-ui-dialog-confirm-icon">'+o.icon+'</div><div class="joy-ui-dialog-confirm-title">'+o.message+"</div>",a='<div class="joy-ui-dialog-confirm-btn j_Joy-ui-dialog-confirm-btn" >'+o.btntext+"</div>";e=$('<div class="joy-ui-dialog-confirm j_Joy-ui-dialog-confirm"><div class="joy-ui-dialog-confirm-window">'+n+a+"</div></div>"),$("body").append(e)}else e.find(".joy-ui-dialog-confirm-icon").html(o.icon),e.find(".joy-ui-dialog-confirm-title").text(o.message),e.find(".joy-ui-dialog-confirm-btn").text(o.btntext);i(e),e.unbind("click").on("click",".j_Joy-ui-dialog-confirm-btn",function(){t(e),o.callback&&o.callback.call(o)})},o.toast=function(o,e){var n=$(".j_Joy-ui-dialog-toast"),a=e||3e3;0===n.length&&(n=$('<div class="j_Joy-ui-dialog-toast joy-ui-dialog-toast">'+o+"</div>"),$("body").append(n)),n.text(o),i(n),this.timeId&&clearTimeout(this.timeId),this.timeId=setTimeout(function(){t(n)},a)},o.wxShare=function(){var o=$(".j_Joy-ui-dialog-wxshare");0===o.length&&(o=$('<div class="joy-ui-dialog-wxshare j_Joy-ui-dialog-wxshare"><div class="joy-ui-dialog-wxshare-icon"></div><div class="joy-ui-dialog-wxshare-text">点击右上角分享到好友<br/>或者分享到朋友圈</div></div>'),$("body").append(o),$(o).on("click",function(){t(o)})),i(o)},o.alert=function(o){var e=$(".j_Joy-ui-dialog-alert");0!==e.length&&e.remove();var n='<div class="joy-ui-dialog-alert-title">'+o.title+"</div>";if(2!==o.btn.length)return void console.log("dialog 组件错误：btn数组长度错误");var a='<div class="joy-ui-dialog-alert-btn-group">';o.btn.forEach(function(o,i){a+='<div class="joy-ui-dialog-alert-btn j_Joy-ui-dialog-alert-btn-'+i+'">'+o.btntext+"</div>"}),a+="</div>",e=$('<div class="joy-ui-dialog-alert j_Joy-ui-dialog-alert"><div class="joy-ui-dialog-alert-window">'+n+a+"</div></div>"),$("body").append(e),i(e),o.btn.forEach(function(i,n){$(".j_Joy-ui-dialog-alert-btn-"+n).unbind("click").on("click",function(){t(e),i.callback&&i.callback.call(o)})})},o}();o.exports=e},function(o,i,t){var e=t(8);"string"==typeof e&&(e=[[o.id,e,""]]);t(5)(e,{});e.locals&&(o.exports=e.locals)},function(o,i,t){i=o.exports=t(4)(),i.push([o.id,".joy-ui-dialog-pop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999;opacity:0}.joy-ui-dialog-pop .joy-ui-dialog-pop-window{position:fixed;top:50%;left:50%;width:6.8rem;min-height:3.73333333rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.53333333rem .4rem .4rem;background-color:#fff}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-close-btn{position:absolute;top:.13333333rem;right:.13333333rem;width:.56rem;height:.56rem;background:url('//cdn1.showjoy.com/images/59/5954b558bd5e4d8fa5c40756099bc1f6.png') 50% no-repeat;background-size:.56rem .56rem}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-title{margin-bottom:.26666667rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;color:#000;text-align:center}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-message{font:normal .42666667rem/.64rem PingFang-SC-Regular;color:#9e9e9e}.joy-ui-dialog-confirm{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window{position:fixed;top:50%;left:50%;width:6.8rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.4rem .4rem 1.73333333rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;text-align:center;background-color:#fff}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-icon{font:normal .66666667rem/.66666667rem iconfont;margin-bottom:.13333333rem;color:#f93450}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-title{color:#393836}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-subtitle{margin-top:.24rem;color:#9e9e9e}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-btn{position:absolute;bottom:0;left:0;width:100%;height:1.33333333rem;background-color:#f93450;font:normal .42666667rem/1.33333333rem PingFang-SC-Regular;color:#fff}.joy-ui-dialog-confirm.hide{display:none}.joy-ui-dialog-toast{position:fixed;left:50%;top:50%;z-index:99999999;margin-left:-3.2rem;margin-top:-1.333334rem;width:6.4rem;padding:.266666rem;opacity:0;border-radius:.186666rem;background-color:rgba(0,0,0,.7);box-shadow:.266666rem .266666rem .266666rem -.266666rem rgba(0,0,0,.7);text-align:center;font-size:.346666rem;line-height:1.4;color:#fff}.joy-ui-dialog-wxshare{position:fixed;top:0;left:0;z-index:10000;width:100%;height:100%;background:rgba(0,0,0,.4);opacity:0}.joy-ui-dialog-wxshare .joy-ui-dialog-wxshare-icon{position:absolute;top:0;right:.13333333rem;width:1.14666667rem;height:1.14666667rem;background:url('//cdn1.showjoy.com/images/8b/8bccc512b0fb479a8c0c36afafcad4c1.png') 50% no-repeat;background-size:1.14666667rem 1.14666667rem}.joy-ui-dialog-wxshare .joy-ui-dialog-wxshare-text{position:absolute;top:1.33333333rem;right:.4rem;width:4rem;height:.96rem;font:normal .37333333rem/.48rem PingFang-SC-Regular;color:#fff;text-align:center}.joy-ui-dialog-alert{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999}.joy-ui-dialog-alert .joy-ui-dialog-alert-window{position:fixed;top:50%;left:50%;width:6.8rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.8rem .4rem 2.13333333rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;text-align:center;background-color:#fff}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-title{color:#393836}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group{position:absolute;bottom:0;left:0;width:100%;height:1.33333333rem;font:normal .42666667rem/1.33333333rem PingFang-SC-Regular;color:#fff}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:after,.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:before{display:table;content:\"\"}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:after{clear:both}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn{float:left;width:50%;height:100%}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn:nth-child(1){background-color:#000}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn:nth-child(2){background-color:#f93450}.joy-ui-dialog-show{animation:'joy-ui-dialog-show-animate' .7s ease 1 normal both;-webkit-animation:'joy-ui-dialog-show-animate' .7s ease 1 normal both}.joy-ui-dialog-hide{animation:'joy-ui-dialog-hide-animate' .7s ease 1 normal both;-webkit-animation:'joy-ui-dialog-hide-animate' .7s ease 1 normal both}@-webkit-keyframes joy-ui-dialog-show-animate{0%{opacity:0}to{opacity:1}}@keyframes joy-ui-dialog-show-animate{0%{opacity:0}to{opacity:1}}@-webkit-keyframes joy-ui-dialog-hide-animate{0%{opacity:1}to{opacity:0}}@keyframes joy-ui-dialog-hide-animate{0%{opacity:1}to{opacity:0}}",""])},function(o,i){function t(o){var i=$(".j_ShopUserImage").val(),t=$(".j_ShopUrl").val(),e=$(".j_ShopName").val(),n=e+"| 别纠结啦，出来逛、迟早都是要买的～";t||(t=window.location.href);var a={title:e,desc:n,link:t,imgUrl:i},r={title:n,link:t,imgUrl:i};o&&($.extend(a,o),r={title:o.desc,link:o.link,imgUrl:o.imgUrl}),wx.ready(function(){wx.showOptionMenu(),wx.onMenuShareAppMessage(a),wx.onMenuShareTimeline(r)})}t.unRegisterShare=function(o,i){i=""===i?0:i;var t={title:"达人店-达人意见领袖创业平台",desc:"这里有一张请帖需要你签收---邀请你参加梦想创业合伙人计划",link:"https://shop.m.showjoy"+o+"/introduce?shopId="+i,imgUrl:"https://cdn1.showjoy.com/images/af/af703a6690534acdb8e876928be5be28.png"},e={title:"这里有一张请帖需要你签收---邀请你参加梦想创业合伙人计划",link:"https://shop.m.showjoy"+o+"/introduce?shopId="+i,imgUrl:"https://cdn1.showjoy.com/images/af/af703a6690534acdb8e876928be5be28.png"};wx.ready(function(){wx.showOptionMenu(),wx.onMenuShareAppMessage(t),wx.onMenuShareTimeline(e)})},o.exports=t},function(o,i){"use strict";var t={};t.Browser={versions:function(){var o=navigator.userAgent;navigator.appVersion;return{webKit:o.indexOf("AppleWebKit")>-1,mobile:!!o.match(/AppleWebKit.*Mobile.*/)||!!o.match(/AppleWebKit/),ios:!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:o.indexOf("Android")>-1||o.indexOf("Linux")>-1,iPhone:o.indexOf("iPhone")>-1||o.indexOf("Mac")>-1,iPad:o.indexOf("iPad")>-1,webApp:o.indexOf("Safari")==-1,weixin:o.toLowerCase().indexOf("micromessenger")>-1,showjoyiOS:o.indexOf("ShowJoyiOS")>-1,showjoyAndroid:o.indexOf("ShowJoyAndroid")>-1,iOSAPP:o.indexOf("iOSAPP")>-1,androidAPP:o.indexOf("androidAPP")>-1,showjoyShopiOs:o.indexOf("showjoyshopiOS")>-1,showjoyShopAndroid:o.indexOf("showjoyShopAndroid")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},t.Env=function(){var o=window.location.hostname;return o.indexOf("showjoy.net")!==-1||o.indexOf("ggl.net")!==-1?"test":o.indexOf("showjoy.com")!==-1||o.indexOf("ggl.com")!==-1?"alive":void 0}(),o.exports=t}]);
//# sourceMappingURL=product-management.min.js.map
!function(i){function o(t){if(e[t])return e[t].exports;var n=e[t]={exports:{},id:t,loaded:!1};return i[t].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}var e={};return o.m=i,o.c=e,o.p="",o(0)}([function(i,o,e){"use strict";var t=e(1),n=e(2),a=e(3),r={setClickable:function(i){i.removeClass("disable").removeClass("loading")},setLoading:function(i){i.addClass("loading")},setFinish:function(i){i.text("保存成功"),i.removeClass("loading"),i.addClass("finish")},setDisable:function(i){i.removeClass("loading").removeClass("finish").addClass("disable")}};Zepto(function(){function i(i,o,e){r.setLoading($(".j_Submit")),$.ajax({url:i,type:"POST",data:o,dataType:"json",cache:!1,processData:!1,contentType:!1,success:function(i){e(i)},error:function(){l=!0,r.setClickable($(".j_Submit")),a.toast("服务器开小差啦，请稍候尝试！")}})}function o(o){i("/api/shop/updateShopName",o,function(i){if("string"==typeof i&&(i=JSON.parse(i)),1===i.isSuccess&&1===i.isRedirect)r.setFinish($(".j_Submit")),setTimeout(function(){window.location.href=i.redirectURL},1e3);else{l=!0;var o=""===i.msg?"上传失败，请重新上传":i.msg;r.setClickable($(".j_Submit")),a.toast(o)}})}var e=/^[a-zA-Z0-9_-\s\/\u4e00-\u9fa5]+$/,l=!0,d=function(){return"test"===n.Env?".net":".com"}(),s=$(".j_ShopId").val();t.unRegisterShare(d,s),$(".j_Submit").click(function(i){i.stopPropagation();var t=$(".j_NewShopName").val().trim();if(t.length>10)return void a.toast("店铺名称可不能超过10个字哦");if(""===t)return void a.toast("店铺名称不能为空哦");if(e.test(t)===!1)return void a.toast("店铺名称不能有特殊字符，再想一个吧");if(l){l=!1;var n=new FormData($(".j_AvatarForm")[0]);o(n)}}),$(".j_BindInput").on("input",function(){var i=[];return $(".j_BindInput").each(function(){if(""===$(this).val())return i.push("empty"),!1}),i.length>0?void r.setDisable($(".j_Submit")):void r.setClickable($(".j_Submit"))})})},function(i,o){function e(i){var o=$(".j_ShopUserImage").val(),e=$(".j_ShopUrl").val(),t=$(".j_ShopName").val(),n=t+"| 别纠结啦，出来逛、迟早都是要买的～";e||(e=window.location.href);var a={title:t,desc:n,link:e,imgUrl:o},r={title:n,link:e,imgUrl:o};i&&($.extend(a,i),r={title:i.desc,link:i.link,imgUrl:i.imgUrl}),wx.ready(function(){wx.showOptionMenu(),wx.onMenuShareAppMessage(a),wx.onMenuShareTimeline(r)})}e.unRegisterShare=function(i,o){o=""===o?0:o;var e={title:"达人店-达人意见领袖创业平台",desc:"这里有一张请帖需要你签收---邀请你参加梦想创业合伙人计划",link:"https://shop.m.showjoy"+i+"/introduce?shopId="+o,imgUrl:"https://cdn1.showjoy.com/images/af/af703a6690534acdb8e876928be5be28.png"},t={title:"这里有一张请帖需要你签收---邀请你参加梦想创业合伙人计划",link:"https://shop.m.showjoy"+i+"/introduce?shopId="+o,imgUrl:"https://cdn1.showjoy.com/images/af/af703a6690534acdb8e876928be5be28.png"};wx.ready(function(){wx.showOptionMenu(),wx.onMenuShareAppMessage(e),wx.onMenuShareTimeline(t)})},i.exports=e},function(i,o){"use strict";var e={};e.Browser={versions:function(){var i=navigator.userAgent;navigator.appVersion;return{webKit:i.indexOf("AppleWebKit")>-1,mobile:!!i.match(/AppleWebKit.*Mobile.*/)||!!i.match(/AppleWebKit/),ios:!!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:i.indexOf("Android")>-1||i.indexOf("Linux")>-1,iPhone:i.indexOf("iPhone")>-1||i.indexOf("Mac")>-1,iPad:i.indexOf("iPad")>-1,webApp:i.indexOf("Safari")==-1,weixin:i.toLowerCase().indexOf("micromessenger")>-1,showjoyiOS:i.indexOf("ShowJoyiOS")>-1,showjoyAndroid:i.indexOf("ShowJoyAndroid")>-1,iOSAPP:i.indexOf("iOSAPP")>-1,androidAPP:i.indexOf("androidAPP")>-1,showjoyShopiOs:i.indexOf("showjoyshopiOS")>-1,showjoyShopAndroid:i.indexOf("showjoyShopAndroid")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},e.Env=function(){var i=window.location.hostname;return i.indexOf("showjoy.net")!==-1||i.indexOf("ggl.net")!==-1?"test":i.indexOf("showjoy.com")!==-1||i.indexOf("ggl.com")!==-1?"alive":void 0}(),i.exports=e},function(i,o,e){e(4);var t=function(){var i={},o=function(i){i.css("display","block"),i.removeClass("joy-ui-dialog-hide").addClass("joy-ui-dialog-show")},e=function(i){i.removeClass("joy-ui-dialog-show").addClass("joy-ui-dialog-hide"),setTimeout(function(){i.css("display","none")},700)};return i.pop=function(i,t){var n=$(".j_Joy-ui-dialog-pop");if(0===n.length){var a='<div class="joy-ui-dialog-pop-close-btn j_Joy-ui-dialog-pop-close"></div>',r='<div class = "joy-ui-dialog-pop-title"></div>',l='<div class = "joy-ui-dialog-pop-message"></div>';n=$('<div class="joy-ui-dialog-pop j_Joy-ui-dialog-pop"><div class="joy-ui-dialog-pop-window">'+a+r+l+"</div></div>"),$("body").append(n),n.on("click",".j_Joy-ui-dialog-pop-close",function(){e(n)})}n.find(".joy-ui-dialog-pop-title").text(i),n.find(".joy-ui-dialog-pop-message").html(t),o(n)},i.confirm=function(i){var t=$(".j_Joy-ui-dialog-confirm");if(0===t.length){var n='<div class="joy-ui-dialog-confirm-title">'+i.title+'</div><div class="joy-ui-dialog-confirm-subtitle" >'+(i.subtitle?i.subtitle:"")+"</div>",a='<div class="joy-ui-dialog-confirm-btn j_Joy-ui-dialog-confirm-btn" >'+i.btntext+"</div>";t=$('<div class="joy-ui-dialog-confirm j_Joy-ui-dialog-confirm"><div class="joy-ui-dialog-confirm-window">'+n+a+"</div></div>"),$("body").append(t)}else t.find(".joy-ui-dialog-confirm-title").html(i.title),t.find(".joy-ui-dialog-confirm-subtitle").html(i.subtitle?i.subtitle:""),t.find(".joy-ui-dialog-confirm-btn").html(i.btntext);o(t),t.unbind("click").on("click",".j_Joy-ui-dialog-confirm-btn",function(o){o.preventDefault(),o.stopPropagation(),e(t),i.callback&&i.callback.call(i)}),t.on("click",function(){e(t)})},i.iconConfirm=function(i){var t=$(".j_Joy-ui-dialog-confirm");if(0===t.length){var n='<div class="joy-ui-dialog-confirm-icon">'+i.icon+'</div><div class="joy-ui-dialog-confirm-title">'+i.message+"</div>",a='<div class="joy-ui-dialog-confirm-btn j_Joy-ui-dialog-confirm-btn" >'+i.btntext+"</div>";t=$('<div class="joy-ui-dialog-confirm j_Joy-ui-dialog-confirm"><div class="joy-ui-dialog-confirm-window">'+n+a+"</div></div>"),$("body").append(t)}else t.find(".joy-ui-dialog-confirm-icon").html(i.icon),t.find(".joy-ui-dialog-confirm-title").text(i.message),t.find(".joy-ui-dialog-confirm-btn").text(i.btntext);o(t),t.unbind("click").on("click",".j_Joy-ui-dialog-confirm-btn",function(){e(t),i.callback&&i.callback.call(i)})},i.toast=function(i,t){var n=$(".j_Joy-ui-dialog-toast"),a=t||3e3;0===n.length&&(n=$('<div class="j_Joy-ui-dialog-toast joy-ui-dialog-toast">'+i+"</div>"),$("body").append(n)),n.text(i),o(n),this.timeId&&clearTimeout(this.timeId),this.timeId=setTimeout(function(){e(n)},a)},i.wxShare=function(){var i=$(".j_Joy-ui-dialog-wxshare");0===i.length&&(i=$('<div class="joy-ui-dialog-wxshare j_Joy-ui-dialog-wxshare"><div class="joy-ui-dialog-wxshare-icon"></div><div class="joy-ui-dialog-wxshare-text">点击右上角分享到好友<br/>或者分享到朋友圈</div></div>'),$("body").append(i),$(i).on("click",function(){e(i)})),o(i)},i.alert=function(i){var t=$(".j_Joy-ui-dialog-alert");0!==t.length&&t.remove();var n='<div class="joy-ui-dialog-alert-title">'+i.title+"</div>";if(2!==i.btn.length)return void console.log("dialog 组件错误：btn数组长度错误");var a='<div class="joy-ui-dialog-alert-btn-group">';i.btn.forEach(function(i,o){a+='<div class="joy-ui-dialog-alert-btn j_Joy-ui-dialog-alert-btn-'+o+'">'+i.btntext+"</div>"}),a+="</div>",t=$('<div class="joy-ui-dialog-alert j_Joy-ui-dialog-alert"><div class="joy-ui-dialog-alert-window">'+n+a+"</div></div>"),$("body").append(t),o(t),i.btn.forEach(function(o,n){$(".j_Joy-ui-dialog-alert-btn-"+n).unbind("click").on("click",function(){e(t),o.callback&&o.callback.call(i)})})},i}();i.exports=t},function(i,o,e){var t=e(5);"string"==typeof t&&(t=[[i.id,t,""]]);e(7)(t,{});t.locals&&(i.exports=t.locals)},function(i,o,e){o=i.exports=e(6)(),o.push([i.id,".joy-ui-dialog-pop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999;opacity:0}.joy-ui-dialog-pop .joy-ui-dialog-pop-window{position:fixed;top:50%;left:50%;width:6.8rem;min-height:3.73333333rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.53333333rem .4rem .4rem;background-color:#fff}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-close-btn{position:absolute;top:.13333333rem;right:.13333333rem;width:.56rem;height:.56rem;background:url('//cdn1.showjoy.com/images/59/5954b558bd5e4d8fa5c40756099bc1f6.png') 50% no-repeat;background-size:.56rem .56rem}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-title{margin-bottom:.26666667rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;color:#000;text-align:center}.joy-ui-dialog-pop .joy-ui-dialog-pop-window .joy-ui-dialog-pop-message{font:normal .42666667rem/.64rem PingFang-SC-Regular;color:#9e9e9e}.joy-ui-dialog-confirm{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window{position:fixed;top:50%;left:50%;width:6.8rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.4rem .4rem 1.73333333rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;text-align:center;background-color:#fff}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-icon{font:normal .66666667rem/.66666667rem iconfont;margin-bottom:.13333333rem;color:#f93450}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-title{color:#393836}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-subtitle{margin-top:.24rem;color:#9e9e9e}.joy-ui-dialog-confirm .joy-ui-dialog-confirm-window .joy-ui-dialog-confirm-btn{position:absolute;bottom:0;left:0;width:100%;height:1.33333333rem;background-color:#f93450;font:normal .42666667rem/1.33333333rem PingFang-SC-Regular;color:#fff}.joy-ui-dialog-confirm.hide{display:none}.joy-ui-dialog-toast{position:fixed;left:50%;top:50%;z-index:99999999;margin-left:-3.2rem;margin-top:-1.333334rem;width:6.4rem;padding:.266666rem;opacity:0;border-radius:.186666rem;background-color:rgba(0,0,0,.7);box-shadow:.266666rem .266666rem .266666rem -.266666rem rgba(0,0,0,.7);text-align:center;font-size:.346666rem;line-height:1.4;color:#fff}.joy-ui-dialog-wxshare{position:fixed;top:0;left:0;z-index:10000;width:100%;height:100%;background:rgba(0,0,0,.4);opacity:0}.joy-ui-dialog-wxshare .joy-ui-dialog-wxshare-icon{position:absolute;top:0;right:.13333333rem;width:1.14666667rem;height:1.14666667rem;background:url('//cdn1.showjoy.com/images/8b/8bccc512b0fb479a8c0c36afafcad4c1.png') 50% no-repeat;background-size:1.14666667rem 1.14666667rem}.joy-ui-dialog-wxshare .joy-ui-dialog-wxshare-text{position:absolute;top:1.33333333rem;right:.4rem;width:4rem;height:.96rem;font:normal .37333333rem/.48rem PingFang-SC-Regular;color:#fff;text-align:center}.joy-ui-dialog-alert{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.4);z-index:99999999}.joy-ui-dialog-alert .joy-ui-dialog-alert-window{position:fixed;top:50%;left:50%;width:6.8rem;-webkit-transform:translateX(-3.4rem) translateY(-50%);transform:translateX(-50%) translateY(-50%);padding:.8rem .4rem 2.13333333rem;font:normal .42666667rem/.53333333rem PingFang-SC-Regular;text-align:center;background-color:#fff}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-title{color:#393836}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group{position:absolute;bottom:0;left:0;width:100%;height:1.33333333rem;font:normal .42666667rem/1.33333333rem PingFang-SC-Regular;color:#fff}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:after,.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:before{display:table;content:\"\"}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group:after{clear:both}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn{float:left;width:50%;height:100%}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn:nth-child(1){background-color:#000}.joy-ui-dialog-alert .joy-ui-dialog-alert-window .joy-ui-dialog-alert-btn-group .joy-ui-dialog-alert-btn:nth-child(2){background-color:#f93450}.joy-ui-dialog-show{animation:'joy-ui-dialog-show-animate' .7s ease 1 normal both;-webkit-animation:'joy-ui-dialog-show-animate' .7s ease 1 normal both}.joy-ui-dialog-hide{animation:'joy-ui-dialog-hide-animate' .7s ease 1 normal both;-webkit-animation:'joy-ui-dialog-hide-animate' .7s ease 1 normal both}@-webkit-keyframes joy-ui-dialog-show-animate{0%{opacity:0}to{opacity:1}}@keyframes joy-ui-dialog-show-animate{0%{opacity:0}to{opacity:1}}@-webkit-keyframes joy-ui-dialog-hide-animate{0%{opacity:1}to{opacity:0}}@keyframes joy-ui-dialog-hide-animate{0%{opacity:1}to{opacity:0}}",""])},function(i,o){i.exports=function(){var i=[];return i.toString=function(){for(var i=[],o=0;o<this.length;o++){var e=this[o];e[2]?i.push("@media "+e[2]+"{"+e[1]+"}"):i.push(e[1])}return i.join("")},i.i=function(o,e){"string"==typeof o&&(o=[[null,o,""]]);for(var t={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(t[a]=!0)}for(n=0;n<o.length;n++){var r=o[n];"number"==typeof r[0]&&t[r[0]]||(e&&!r[2]?r[2]=e:e&&(r[2]="("+r[2]+") and ("+e+")"),i.push(r))}},i}},function(i,o,e){function t(i,o){for(var e=0;e<i.length;e++){var t=i[e],n=g[t.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](t.parts[a]);for(;a<t.parts.length;a++)n.parts.push(s(t.parts[a],o))}else{for(var r=[],a=0;a<t.parts.length;a++)r.push(s(t.parts[a],o));g[t.id]={id:t.id,refs:1,parts:r}}}}function n(i){for(var o=[],e={},t=0;t<i.length;t++){var n=i[t],a=n[0],r=n[1],l=n[2],d=n[3],s={css:r,media:l,sourceMap:d};e[a]?e[a].parts.push(s):o.push(e[a]={id:a,parts:[s]})}return o}function a(i,o){var e=h(),t=b[b.length-1];if("top"===i.insertAt)t?t.nextSibling?e.insertBefore(o,t.nextSibling):e.appendChild(o):e.insertBefore(o,e.firstChild),b.push(o);else{if("bottom"!==i.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");e.appendChild(o)}}function r(i){i.parentNode.removeChild(i);var o=b.indexOf(i);o>=0&&b.splice(o,1)}function l(i){var o=document.createElement("style");return o.type="text/css",a(i,o),o}function d(i){var o=document.createElement("link");return o.rel="stylesheet",a(i,o),o}function s(i,o){var e,t,n;if(o.singleton){var a=j++;e=y||(y=l(o)),t=u.bind(null,e,a,!1),n=u.bind(null,e,a,!0)}else i.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=d(o),t=f.bind(null,e),n=function(){r(e),e.href&&URL.revokeObjectURL(e.href)}):(e=l(o),t=c.bind(null,e),n=function(){r(e)});return t(i),function(o){if(o){if(o.css===i.css&&o.media===i.media&&o.sourceMap===i.sourceMap)return;t(i=o)}else n()}}function u(i,o,e,t){var n=e?"":t.css;if(i.styleSheet)i.styleSheet.cssText=v(o,n);else{var a=document.createTextNode(n),r=i.childNodes;r[o]&&i.removeChild(r[o]),r.length?i.insertBefore(a,r[o]):i.appendChild(a)}}function c(i,o){var e=o.css,t=o.media;if(t&&i.setAttribute("media",t),i.styleSheet)i.styleSheet.cssText=e;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(e))}}function f(i,o){var e=o.css,t=o.sourceMap;t&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */");var n=new Blob([e],{type:"text/css"}),a=i.href;i.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var g={},p=function(i){var o;return function(){return"undefined"==typeof o&&(o=i.apply(this,arguments)),o}},m=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,j=0,b=[];i.exports=function(i,o){o=o||{},"undefined"==typeof o.singleton&&(o.singleton=m()),"undefined"==typeof o.insertAt&&(o.insertAt="bottom");var e=n(i);return t(e,o),function(i){for(var a=[],r=0;r<e.length;r++){var l=e[r],d=g[l.id];d.refs--,a.push(d)}if(i){var s=n(i);t(s,o)}for(var r=0;r<a.length;r++){var d=a[r];if(0===d.refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete g[d.id]}}}};var v=function(){var i=[];return function(o,e){return i[o]=e,i.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=shop-modify.min.js.map